apiVersion: vm.novasphere.dev/v1alpha1
kind: Wukong
metadata:
  name: ubuntu-recommended
  labels:
    app.kubernetes.io/name: novasphere
    app.kubernetes.io/managed-by: kustomize
spec:
  cpu: 2
  memory: 4Gi
  
  # 推荐配置：系统盘和数据盘分离
  disks:
    # 系统盘：30Gi（适合大多数 Linux 系统）
    # - 开发/测试环境: 20Gi
    # - 生产环境: 30-50Gi
    - name: system
      size: 30Gi
      storageClassName: longhorn
      boot: true
      image: "http://192.168.1.141:8080/images/noble-server-cloudimg-amd64.img"
    
    # 数据盘：100Gi（根据实际需求调整）
    # - 小型应用: 50-100Gi
    # - 中型应用: 100-200Gi
    # - 大型应用/数据库: 200Gi-2Ti
    - name: data
      size: 100Gi
      storageClassName: longhorn
      boot: false
  
  # Cloud-Init 用户配置
  cloudInitUser:
    name: ubuntu
    passwordHash: "$1$7.t8q8zZ$59I1IiMXy5w3gIl5Yrn/4/"  # 替换为实际生成的哈希
    sudo: "ALL=(ALL) NOPASSWD:ALL"
    shell: "/bin/bash"
    groups:
      - sudo
      - adm
      - dialout
    lockPasswd: false
  
  # 启动策略：自动启动
  startStrategy:
    autoStart: true

